<div class="mt-3">
  <p-panel header="BUSCAR CONVENIO" toggleable="true">
    <form [formGroup]="conveniosForm" (ngSubmit)="onSubmit()">
      <app-filtered-button
        (onSearch)="onSearch()"
        (onClear)="clearForm()"
      ></app-filtered-button>

      <!-- Row 1 -->
      <div class="formgrid mt-5 grid custom-col-extend">
        <!-- Numero de convenio -->
        <div class="field custom-col">
          <p-floatLabel>
            <input
              formControlName="numberAgreement"
              pInputText
              id="numberAgreement"
              type="number"
            />
            <label
              htmlFor="float-label"
              id="custom-pfloatLabel"
              class="custom-w"
              >Numero de convenio
            </label>
          </p-floatLabel>
        </div>

        <!-- Tipo de convenio -->
        <div class="field custom-col">
          <p-floatLabel>
            <p-dropdown
              formControlName="typeAgreement"
              [options]="typeAgreements"
              optionLabel="typeAgreement"
              inputId="float-label"
              placeholder="Tipo de convenios"
            />
            <label for="float-label" id="custom-pfloatLabel" class="custom-w"
              >Tipo de convenio</label
            >
          </p-floatLabel>
        </div>

        <!-- Estado del convenio -->
        <div class="field custom-col">
          <p-floatLabel>
            <p-dropdown
              formControlName="statusAgreement"
              [options]="statusAgreements"
              optionLabel="statusAgreement"
              inputId="float-label"
              placeholder="Estado"
            />
            <label for="float-label" id="custom-pfloatLabel" class="custom-w"
              >Estado del convenio</label
            >
          </p-floatLabel>
        </div>

        <!-- Nombre del convenio -->
        <div class="field custom-col">
          <p-floatLabel>
            <input
              pInputText
              id="nameAgreement"
              type="text"
              formControlName="nameAgreement"
            />
            <label
              htmlFor="float-label"
              id="custom-pfloatLabel"
              class="custom-w"
              >Nombre de convenio
            </label>
          </p-floatLabel>
        </div>
      </div>

      <!-- Row 2 -->
      <div class="formgrid mt-3 grid custom-col-extend">
        <!-- NIT de proveedores -->
        <div class="field custom-col">
          <p-floatLabel>
            <input
              formControlName="nitProviders"
              pInputText
              id="nitProviders"
              type="number"
            />
            <label
              htmlFor="float-label"
              id="custom-pfloatLabel"
              class="custom-w"
              >NIT de proveedores
            </label>
          </p-floatLabel>
        </div>

        <!-- Razon social proveedor -->
        <div class="field custom-col">
          <p-floatLabel>
            <input
              pInputText
              formControlName="companyNameProviders"
              id="companyNameProviders"
              type="text"
            />
            <label
              htmlFor="float-label"
              id="custom-pfloatLabel"
              class="custom-w"
              >Raz&oacute;n social proveedor
            </label>
          </p-floatLabel>
        </div>

        <!-- Razon comercial proveedor -->
        <div class="field custom-col">
          <p-floatLabel>
            <input
              pInputText
              formControlName="businessNameProviders"
              id="businessNameProviders"
              type="text"
            />
            <label
              htmlFor="float-label"
              id="custom-pfloatLabel"
              class="custom-w"
              >Raz&oacute;n comercial proveedor
            </label>
          </p-floatLabel>
        </div>

        <!-- Codigo de proveedor -->
        <div class="field custom-col">
          <p-floatLabel>
            <input
              pInputText
              formControlName="codeProvider"
              id="codeProvider"
              type="number"
            />
            <label
              htmlFor="float-label"
              id="custom-pfloatLabel"
              class="custom-w"
              >Codigo de proveedor
            </label>
          </p-floatLabel>
        </div>
      </div>

      <!-- Row 3 -->
      <div class="formgrid grid mt-3 custom-col-extend">
        <!-- Fecha inicio -->
        <div class="field custom-col">
          <p-floatLabel>
            <p-calendar
              formControlName="dateStart"
              [showIcon]="true"
              inputId="buttondisplay"
              [showOnFocus]="false"
            />
            <label
              htmlFor="float-label"
              id="custom-pfloatLabel"
              class="custom-w"
              >Fecha inicio vigencia
            </label>
          </p-floatLabel>
        </div>

        <!-- Fecha vigencia final -->
        <div class="field custom-col">
          <div class="flex-auto">
            <p-floatLabel>
              <p-calendar
                formControlName="dateFinish"
                [showIcon]="true"
                inputId="buttondisplay"
                [showOnFocus]="false"
              />
              <label
                htmlFor="float-label"
                id="custom-pfloatLabel"
                class="custom-w"
                >Fecha vigencia final
              </label>
            </p-floatLabel>
          </div>
        </div>

        <!-- Ramo -->
        <div class="field custom-col">
          <div class="flex-auto">
            <p-floatLabel>
              <p-dropdown
                formControlName="ramo"
                [options]="ramos"
                optionLabel="ramo"
                placeholder="Ramo"
              />
              <label
                htmlFor="float-label"
                id="custom-pfloatLabel"
                class="custom-w"
                >Ramo</label
              >
            </p-floatLabel>
          </div>
        </div>

        <!-- Productos -->
        <div class="field custom-col">
          <p-floatLabel>
            <p-dropdown
              formControlName="product"
              [options]="products"
              optionLabel="product"
              inputId="float-label"
              placeholder="Productos"
            />
            <label for="float-label" id="custom-pfloatLabel" class="custom-w"
              >Productos</label
            >
          </p-floatLabel>
        </div>
      </div>

      <!-- Row 4 -->
      <div class="formgrid grid mt-3 custom-col-extend">

        <!-- Renovacion automatica -->
        <div class="field custom-col">
          <p-floatLabel>
            <p-dropdown
              [options]="automaticRenewals"
              formControlName="automaticRenewal"
              optionLabel="automaticRenewal"
              placeholder="Renovaci&oacute;n autom&aacute;tica"
            />
            <label
              htmlFor="float-label"
              id="custom-pfloatLabel"
              class="custom-w"
              >Renovación Automática</label
            >
          </p-floatLabel>
        </div>

        <!-- Departamento -->
        <div class="field custom-col">
          <div class="flex-auto">
            <p-floatLabel>
              <p-dropdown
                [options]="departaments"
                formControlName="departament"
                optionLabel="departament"
                inputId="float-label"
                placeholder="Departamento"
              />
              <label
                htmlFor="float-label"
                id="custom-pfloatLabel"
                class="custom-w"
                >Departamento</label
              >
            </p-floatLabel>
          </div>
        </div>

        <!-- Ciudad/Municipio -->
        <div class="field custom-col">
          <div class="flex-auto">
            <p-floatLabel>
              <p-dropdown
                [options]="cities"
                formControlName="city"
                optionLabel="city"
                inputId="float-label"
                placeholder="Ciudad / Municipio"
              />
              <label
                htmlFor="float-label"
                id="custom-pfloatLabel"
                class="custom-w"
                >Ciudad / Municipio</label
              >
            </p-floatLabel>
          </div>
        </div>

        <!-- Usuario -->
        <div class="field custom-col">
          <p-floatLabel>
            <input formControlName="user" pInputText id="user" class="ipt-disabled" type="text" />
            <label
              htmlFor="float-label"
              id="custom-pfloatLabel"
              class="custom-w"
              >Usuario
            </label>
          </p-floatLabel>
        </div>
      </div>
    </form>
  </p-panel>

  <!--Table-->
  <div class="mt-4">
   <p-panel header="CONVENIOS ENCONTRADOS" toggleable="true">
    <p-table
    #dt1
        [value]="convenios"
        [paginator]="true"
        [rows]="10"
        [rowsPerPageOptions]="[5, 10, 20, 100]"
        styleClass="p-datatable-gridlines p-datatable-sm"
        [tableStyle]="{ 'min-width': '45rem' }"
        [globalFilterFields]="[
          'numberAgreement',
          'typeAgreement',
          'nameAgreement',
          'product',
          'dateStart',
          'dateFinish ',
          'dateStart',
          'statusAgreement',
          'active rate',
        ]"
        [rowHover]="true"
        dataKey="id"
        currentPageReportTemplate="Mostrando del {first} al {last} de {totalRecords} datos"
        [showCurrentPageReport]="true"
        emptyMessage="No hay datos"

    >

    </p-table>

   </p-panel>

  </div>
</div>
