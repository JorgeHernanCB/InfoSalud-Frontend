<div class="mt-3">
  <p-panel header="BUSCADOR DE PROVEEDORES" [toggleable]="true">
    <!-- forms -->
    <form [formGroup]="proveedorsForm" (ngSubmit)="onSubmit()">
      <app-filtered-button
        (onSearch)="onSearch()"
        (onClear)="clearForm()"
      ></app-filtered-button>

      <!-- Row 1 -->
      <div class="formgrid mt-5 grid custom-col-extend">

        <div class="field custom-col">
          <p-floatLabel>
            <p-dropdown
              [options]="typeProviders"
              formControlName="typeProviders"
              optionLabel="name"
              inputId="float-label"
              placeholder="Tipo de proveedor"
            />
            <label for="float-label" id="custom-pfloatLabel" class="custom-w">Tipo de proveedor</label>
          </p-floatLabel>
        </div>

        <div class="field custom-col">
          <p-floatLabel>
          <p-dropdown
            [options]="status"
            formControlName="status"
            optionLabel="status"
            inputId="float-label"
            placeholder="Estado"
          />
          <label for="float-label" id="custom-pfloatLabel" class="custom-w">Estado</label>
        </p-floatLabel>
        </div>

        <div class="field custom-col">
          <p-floatLabel>
          <p-dropdown
            [options]="deparments"
            formControlName="departament"
            optionLabel="name"
            inputId="float-label"
            placeholder="Departamento / provincia"
          />
          <label for="float-label" id="custom-pfloatLabel" class="custom-w">Departamento</label>
          </p-floatLabel>
        </div>

        <div class="field custom-col">
          <div class="flex-auto">
            <p-floatLabel>
            <p-dropdown
              [options]="cities"
              formControlName="city"
              optionLabel="city"
              inputId="float-label"
              placeholder="Ciudad / Municipio"
            />
            <label htmlFor="float-label" id="custom-pfloatLabel" class="custom-w">Ciudad / Municipio</label>
            </p-floatLabel>
          </div>
        </div>

      </div>

      <!-- Row 2 -->
      <div class="formgrid grid mt-3 custom-col-extend">

        <div class="field custom-col">
          <div class="flex-auto">
            <p-floatLabel>
            <p-dropdown
              [options]="typePerson"
              formControlName="typePerson"
              optionLabel="typePerson"
              placeholder="Tipo de persona"
            />
            <label htmlFor="float-label" id="custom-pfloatLabel" class="custom-w">Tipo de persona</label>
            </p-floatLabel>
          </div>
        </div>

        <div class="field custom-col">
          <p-floatLabel>
          <p-dropdown
            [options]="typeDocument"
            formControlName="typeDocument"
            optionLabel="identification"
            placeholder="Tipo de identificaciÃ³n"
          />
          <label htmlFor="float-label" id="custom-pfloatLabel" class="custom-w">Tipo de Documento</label>
          </p-floatLabel>
        </div>


        <div class="field custom-col">
          <p-floatLabel>
            <input
              pInputText
              id="numberDocument"
              type="number"
              formControlName="numberDocument"
            />
            <label htmlFor="float-label" id="custom-pfloatLabel" class="custom-w"
              >N&uacute;mero de identificaci&oacute;n
            </label>
          </p-floatLabel>
        </div>

        <div class="field custom-col">
          <p-floatLabel>
            <input pInputText
              id="name"
              type="text"
              formControlName="name" />
            <label htmlFor="float-label" id="custom-pfloatLabel" class="custom-w"
              >Nombre / Raz&oacute;n social
            </label>
          </p-floatLabel>
        </div>

      </div>

      <div class="formgrid grid mt-3 custom-col-extend">
        <!-- Especialidad -->
        <div class="field custom-col">
          <p-floatLabel>
            <p-dropdown
              [options]="special"
              formControlName="special"
              optionLabel="name"
              placeholder="Tipo de especialidad"
            />
            <label htmlFor="float-label" id="custom-pfloatLabel"
            class="custom-w">Tipo de especialidad</label>
          </p-floatLabel>
        </div>
      </div>

    </form>
  </p-panel>

  <!-- Table -->
  <div class="mt-4">
    <p-panel header="PROVEEDORES ENCONTRADOS"  [toggleable]="true">
      <p-table
        #dt1
        [value]="proveedores"
        [paginator]="true"
        [rows]="10"
        [rowsPerPageOptions]="[5, 10, 20, 100]"
        styleClass="p-datatable-gridlines p-datatable-sm"
        [tableStyle]="{ 'min-width': '45rem' }"
        [globalFilterFields]="[
          'typeDocument',
          'numberDocument',
          'name',
          'typeProviders',
          'status',
          'departament',
          'city'
        ]"
        [rowHover]="true"
        dataKey="id"
        currentPageReportTemplate="Mostrando del {first} al {last} de {totalRecords} datos"
        [showCurrentPageReport]="true"
        emptyMessage="No hay datos"
      >
        <ng-template pTemplate="header">
          <tr>
            <!-- <th style="width: 4rem;">
              <p-tableHeaderCheckbox />
            </th> -->
            <th pSortableColumn="typeDocument"
              class="text-center p-table-title"
              style="width: 100px;">
              Tipo de identificaci&oacute;n
              <p-sortIcon field="typeDocument"></p-sortIcon>
            </th>
            <th
              pSortableColumn="numberDocument"
              class="text-center p-table-title"
              style="width: 150px;">
              N&uacute;mero de identificaci&oacute;n
              <p-sortIcon field="numberDocument"></p-sortIcon>
            </th>
            <th
              pSortableColumn="name"
              class="text-center p-table-title"
              style="width: 250px;">
              Nombre / Raz&oacute;n Social
              <p-sortIcon field="name"></p-sortIcon>
            </th>
            <th
              pSortableColumn="typeProviders"
              class="text-center p-table-title"
              style="width: 150px;">
              Tipo de Proveedor <p-sortIcon field="typeProviders"></p-sortIcon>
            </th>
            <th
              pSortableColumn="status"
              class="text-center p-table-title"
              style="width: 100px;">
              Estado <p-sortIcon field="status"></p-sortIcon>
            </th>
            <th
              pSortableColumn="departament"
              class="text-center p-table-title"
              style="width: 150px;">
              Departamento / Provincia
              <p-sortIcon field="departament"></p-sortIcon>
            </th>
            <th
              pSortableColumn="city"
              class="text-center p-table-title"
              style="width: 150px;">
              Ciudad / Municipio <p-sortIcon field="city"></p-sortIcon>
            </th>
            <th class="text-center p-table-title"
              style="width:50px">Acciones</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-proveedor>
          <tr>
            <!-- <td>
              <p-tableCheckbox [value]="proveedor" />
            </td> -->
            <td class="text-center">{{ proveedor.typeDocument }}</td>
            <td class="text-center">{{ proveedor.numberDocument }}</td>
            <td class="text-center">{{ proveedor.name }}</td>
            <td class="text-center">{{ proveedor.typeProviders }}</td>
            <td class="text-center">{{ proveedor.status }}</td>
            <td class="text-center">{{ proveedor.departament }}</td>
            <td class="text-center">{{ proveedor.city }}</td>
            <td class="text-center">
              <div class="flex justify-content-center align-items-center">
                <!-- (click)="editProveedor(proveedor)" -->
                <!-- (click)="showProveedor(proveedor)" -->
                <p-button
                  icon="pi pi-search"
                  [rounded]="true"
                  [text]="true"
                  pTooltip="Buscar"
                  tooltipPosition="top"
                  class="p-button-rounded flex-1"
                  [state]="{ proveedor: proveedor, isViewMode: true }"
                  [routerLink]="['/proveedores/mostrar', proveedor.id]"
                >
                </p-button>
                <!-- (click)="editProveedor(proveedor)" -->
                <p-button
                  icon="pi pi-pencil"
                  [rounded]="true"
                  [text]="true"
                  pTooltip="Editar"
                  tooltipPosition="top"
                  class="p-button-rounded flex-1"
                  [state]="{ proveedor: proveedor, isViewMode: false }"
                  [routerLink]="['/proveedores/editar', proveedor.id]"
                >
                </p-button>
              </div>
            </td>
          </tr>
        </ng-template>
      </p-table>
    </p-panel>
  </div>
</div>
<!-- </div> -->
